name: C++ Build

# Trigger workflow on push or pull request
on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:

    runs-on: ubuntu-latest  # Linux runner; works for compiling C++

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    - name: Install dependencies
      run: sudo apt-get update && sudo apt-get install -y build-essential

    - name: Build Snake Game
      run: g++ *.cpp -o snake -lraylib -lGL -lm -lpthread -ldl -lrt -lX11

    - name: Test compilation
      run: ./snake --help || echo "Compiled successfully"
